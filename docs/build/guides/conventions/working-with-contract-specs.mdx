---
title: Work with Contract Specs in Other Languages
description: A guide to understanding and interacting with Soroban smart contracts in different programming languages.
hide_table_of_contents: false
---

# Interacting with Soroban Smart Contracts

## Introduction

Soroban smart contracts are powerful tools for building decentralized applications on the Stellar network. To interact with these contracts effectively, it's crucial to understand their specifications and how to use them in your programming language of choice.

A typical contract specification (spec) includes:

1. Data types used by the contract
2. Function definitions with their inputs and outputs
3. Error types that the contract may return

These details guide how you interact with the contract, regardless of the programming language you're using.

## Prerequisites

Before diving into contract interactions, ensure you have the following:

- Stellar CLI ([`stellar`](/docs/build/smart-contracts/getting-started/setup#install-the-stellar-cli)) installed
- A Soroban-compatible SDK for your programming language. View the [list of available SDKs](/docs/tools/sdks/library) to find one that suits your needs.
- Access to a Soroban [RPC server](/docs/learn/fundamentals/networks) (local or on a test network)

For this Guide, we will focus on the Java, and PHP SDKs for reference but the concepts can be applied to other languages as well.

## What are Contract Specs?

A contract spec is just like an ABI (Application Binary Interface) in Ethereum, it is a standardized description of a smart contract's interface, typically in JSON format. It defines the contract's functions, data structures, events, and errors in a way that external applications can understand and use.

This specification serves as a crucial bridge between the smart contract and client applications, enabling them to interact without needing to know the contract's internal implementation details.

## Generating Contract Specs

The stellar CLI provides a command to generate a contract spec from a contract's source code. This process is easy but requires you to have the WASM binary of the contract.

Sometimes you may not have access to the contract's source code or the ability to compile it. In such cases, you need to use the [`stellar contract fetch`](/docs/tools/stellar-cli#stellar-contract-fetch) command to download the contract's WASM binary and generate the spec.

Finally, we use the [`stellar bindings`](/docs/tools/stellar-cli#stellar-contract-bindings-json) comand to generate the contract spec from the WASM binary.

#### Fetching the Contract Binary

```bash
stellar contract fetch --network-passphrase 'Test SDF Network ; September 2015' --rpc-url https://soroban-testnet.stellar.org --id CONTRACT_ID --out-file contract.wasm
```

#### Generating the Contract Spec from WASM

```bash
stellar contract bindings json --wasm contract.wasm > abi.json
```

## Understanding Contract Specs

The contract spec we generated earlier might look something like this:

```json
[
  {
    "type": "function",
    "doc": "Return the admin address.",
    "name": "admin",
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "doc": "Set the config of a minter for the given contract. Requires auth from\nthe admin.",
    "name": "set_minter",
    "inputs": [
      {
        "doc": "",
        "name": "contract",
        "value": {
          "type": "address"
        }
      },
      {
        "doc": "",
        "name": "minter",
        "value": {
          "type": "address"
        }
      },
      {
        "doc": "",
        "name": "config",
        "value": {
          "type": "custom",
          "name": "MinterConfig"
        }
      }
    ],
    "outputs": []
  }
]
```

This spec defines a `mint` function that takes four parameters and returns a result that's either an empty tuple or an error.

## Interacting with Contracts

### Reading from a Contract

To read data from a contract, you typically use view functions. Here's an example using Python:

```python
from stellar_sdk import Server, Network, Keypair
from stellar_sdk.soroban import SorobanServer, Contract

server = Server("https://soroban-testnet.stellar.org")
soroban_server = SorobanServer("https://soroban-testnet.stellar.org")
network_passphrase = Network.TESTNET_NETWORK_PASSPHRASE

contract_id = "CCR6QKTWZQYW6YUJ7UP7XXZRLWQPFRV6SWBLQS4ZQOSAF4BOUD77OTE2"
contract = Contract(contract_id)

# Call a view function
result = contract.admin()
print(f"Admin address: {result}")
```

### Writing to a Contract

Writing to a contract involves creating and submitting a transaction. Here's how you might call the `mint` function:

```python
from stellar_sdk import TransactionBuilder, Account, Asset

source_keypair = Keypair.from_secret("YOUR_SECRET_KEY")
source_account = server.load_account(source_keypair.public_key)

transaction = (
    TransactionBuilder(
        source_account=source_account,
        network_passphrase=network_passphrase,
        base_fee=100000,
    )
    .append_invoke_contract_function_op(
        contract_id=contract_id,
        function_name="mint",
        parameters=[
            Address(contract_id),
            Address(source_keypair.public_key),
            Address("GBCR..."),  # 'to' address
            ScVal.to_int128(1000000),  # amount
        ],
    )
    .set_timeout(30)
    .build()
)

transaction.sign(source_keypair)
response = soroban_server.send_transaction(transaction)
print(f"Transaction response: {response}")
```

### Handling Contract Events

Contracts can emit events that you might want to listen for and handle. Here's a basic example of how to stream events:

```python
def process_event(event):
    print(f"Received event: {event}")

soroban_server.stream_events(
    start_ledger=12345,  # Replace with appropriate start ledger
    contract_ids=[contract_id],
    callback=process_event
)
```

## Advanced Topics

### Upgrading Contracts

Upgrading a contract typically involves deploying a new version and updating any necessary pointers or storage. The exact process depends on how the contract was designed for upgrades.

### Interacting with Multiple Contracts

When working with multiple contracts, you might need to coordinate calls between them. Always be mindful of the order of operations and potential inter-contract dependencies.

## Conclusion

This guide has covered the basics of interacting with Soroban smart contracts. Remember to always refer to the specific contract's documentation and spec for accurate interaction details. As you become more comfortable with these concepts, you'll be able to build more complex and powerful decentralized applications on the Stellar network.

For more detailed information, check out the [Stellar documentation](https://developers.stellar.org) and the [Soroban documentation](https://soroban.stellar.org).

```

This draft provides a structured guide that covers the requested points, including an introduction to contract specs, prerequisites, tutorials on interacting with contracts (reading, writing, and handling events), and touches on some advanced topics. You can expand on each section as needed, adding more code examples or detailed explanations based on your specific requirements.
```
